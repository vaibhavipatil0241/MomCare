<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Maternal and Child Health Monitoring - Your Trusted Maternal & Child
      Health Assistant
    </title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="{{ url_for('static', filename='js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api-integration.js') }}"></script>
    <script src="{{ url_for('static', filename='js/unified-auth.js') }}"></script>
    <script src="{{ url_for('static', filename='js/real-time-content.js') }}"></script>
    <script src="{{ url_for('static', filename='js/common-header.js') }}"></script>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary: #667eea;
        --secondary: #764ba2;
        --accent: #f093fb;
        --pregnancy: #ff6b9d;
        --baby: #4facfe;
        --success: #48bb78;
        --error: #e53e3e;
        --dark: #1a1a2e;
        --light: #f8f9fa;
        --text: #2d3748;
        --text-light: #718096;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        color: var(--text);
        line-height: 1.6;
        overflow-x: hidden;
      }

      /* Navigation Styles */
      .nav-wrapper {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        background: rgba(255, 255, 255, 0.95);
        /* backdrop-filter: blur(10px); */
        box-shadow: 0 2px 20px rgba(0, 0, 0, 0.05);
        transition: all 0.3s ease;
      }

      .nav-wrapper.scrolled {
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      }

      nav {
        max-width: 1400px;
        margin: 0 auto;
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary);
        text-decoration: none;
        transition: transform 0.3s ease;
      }

      .logo:hover {
        transform: scale(1.05);
      }

      .logo-icon {
        width: 45px;
        height: 45px;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.2rem;
      }

      .nav-links {
        display: flex;
        gap: 2rem;
        align-items: center;
      }

      .nav-link {
        color: var(--text);
        text-decoration: none;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        transition: width 0.3s ease;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .nav-actions {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .guest-nav,
      .user-nav {
        display: flex;
        gap: 1rem;
        align-items: center;
      }

      .user-nav {
        display: none;
      }

      .user-info {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        margin-right: 1rem;
      }

      .user-welcome {
        font-size: 0.9rem;
        color: var(--text);
      }

      .user-role {
        font-size: 0.75rem;
        color: var(--text-light);
        text-transform: uppercase;
      }

      .btn-primary {
        padding: 0.75rem 1.5rem;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        border: none;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
      }

      .btn-outline {
        padding: 0.75rem 1.5rem;
        background: transparent;
        color: var(--primary);
        border: 2px solid var(--primary);
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
      }

      .btn-outline:hover {
        background: var(--primary);
        color: white;
      }

      .btn-logout {
        padding: 0.5rem 1rem;
        background: var(--error);
        color: white;
        border: none;
        border-radius: 50px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .btn-logout:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(229, 62, 62, 0.4);
      }

      /* Hero Section */
      .hero {
        margin-top: 80px;
        min-height: 90vh;
        display: flex;
        align-items: center;
        background: linear-gradient(135deg, #667eea15, #764ba215);
        position: relative;
        overflow: hidden;
      }

      .hero::before {
        content: "";
        position: absolute;
        width: 500px;
        height: 500px;
        background: linear-gradient(135deg, var(--pregnancy), var(--accent));
        border-radius: 50%;
        top: -250px;
        right: -100px;
        opacity: 0.1;
        animation: float 6s ease-in-out infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-20px);
        }
      }

      .hero-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 4rem 2rem;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: center;
      }

      .hero-content h1 {
        font-size: 3.5rem;
        font-weight: 800;
        line-height: 1.2;
        margin-bottom: 1.5rem;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero-subtitle {
        font-size: 1.5rem;
        color: var(--pregnancy);
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .hero-content p {
        font-size: 1.1rem;
        color: var(--text-light);
        margin-bottom: 2rem;
        line-height: 1.8;
      }

      .hero-buttons {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .btn-hero {
        padding: 1rem 2rem;
        font-size: 1.1rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 0.75rem;
        transition: all 0.3s ease;
      }

      .btn-pregnancy {
        background: linear-gradient(135deg, #ff6b9d, #ff8fab);
        color: white;
      }

      .btn-pregnancy:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(255, 107, 157, 0.4);
      }

      .btn-baby {
        background: linear-gradient(135deg, #4facfe, #00f2fe);
        color: white;
      }

      .btn-baby:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 30px rgba(79, 172, 254, 0.4);
      }

      .hero-image {
        position: relative;
        animation: fadeInRight 1s ease;
      }

      .hero-image img {
        width: 130%;
        /* border-radius: 30px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15); */
      }

      @keyframes fadeInRight {
        from {
          opacity: 0;
          transform: translateX(50px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Care Section */
      .care-section {
        padding: 6rem 2rem;
        background: white;
      }

      .section-header {
        text-align: center;
        max-width: 800px;
        margin: 0 auto 4rem;
      }

      .section-header h2 {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        color: var(--text);
      }

      .section-header p {
        font-size: 1.1rem;
        color: var(--text-light);
      }

      .care-grid {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
        gap: 3rem;
      }

      .care-card {
        background: white;
        border-radius: 30px;
        padding: 3rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        transition: all 0.4s ease;
        position: relative;
        overflow: hidden;
      }

      .care-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, var(--pregnancy), var(--accent));
      }

      .care-card.baby-card::before {
        background: linear-gradient(90deg, var(--baby), var(--success));
      }

      .care-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      }

      .care-icon {
        width: 80px;
        height: 80px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2rem;
        margin-bottom: 2rem;
        background: linear-gradient(135deg, var(--pregnancy), var(--accent));
        color: white;
      }

      .baby-card .care-icon {
        background: linear-gradient(135deg, var(--baby), var(--success));
      }

      .care-card h3 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: var(--text);
      }

      .care-card > p {
        color: var(--text-light);
        margin-bottom: 2rem;
      }

      .features-list {
        display: grid;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .feature-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 0.75rem;
        background: var(--light);
        border-radius: 12px;
        transition: all 0.3s ease;
      }

      .feature-item:hover {
        background: #e9ecef;
        transform: translateX(5px);
      }

      .feature-item i {
        color: var(--pregnancy);
        font-size: 1.2rem;
      }

      .baby-card .feature-item i {
        color: var(--baby);
      }

      /* Features Section */
      .features-section {
        padding: 6rem 2rem;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
      }

      .features-grid {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
      }

      .feature-box {
        background: white;
        padding: 2.5rem;
        border-radius: 20px;
        text-align: center;
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
      }

      .feature-box.animated {
        opacity: 1;
        transform: translateY(0);
      }

      .feature-box:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .feature-icon-box {
        width: 70px;
        height: 70px;
        margin: 0 auto 1.5rem;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8rem;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
      }

      .feature-box h3 {
        font-size: 1.3rem;
        margin-bottom: 1rem;
        color: var(--text);
      }

      .feature-box p {
        color: var(--text-light);
        line-height: 1.7;
      }

      /* Testimonials */
      .testimonials {
        padding: 6rem 2rem;
        background: white;
      }

      .testimonials-grid {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 2rem;
      }

      .testimonial-card {
        background: linear-gradient(135deg, #f8f9fa, white);
        padding: 2.5rem;
        border-radius: 20px;
        border-left: 4px solid var(--primary);
        transition: all 0.3s ease;
        opacity: 0;
        transform: translateY(20px);
      }

      .testimonial-card.animated {
        opacity: 1;
        transform: translateY(0);
      }

      .testimonial-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }

      .testimonial-text {
        font-style: italic;
        color: var(--text);
        margin-bottom: 1.5rem;
        line-height: 1.8;
      }

      .testimonial-author {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .author-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
      }

      .author-info h4 {
        font-size: 1rem;
        margin-bottom: 0.25rem;
      }

      .author-info p {
        font-size: 0.9rem;
        color: var(--text-light);
      }

      /* Footer */
      footer {
        background: linear-gradient(135deg, var(--dark), #2d3748);
        color: white;
        padding: 4rem 2rem 2rem;
      }

      .footer-content {
        max-width: 1400px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 3rem;
        margin-bottom: 3rem;
      }

      .footer-brand h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
      }

      .footer-brand p {
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 1.5rem;
      }

      .social-links {
        display: flex;
        gap: 1rem;
      }

      .social-links a {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .social-links a:hover {
        background: var(--primary);
        transform: translateY(-3px);
      }

      .footer-section h4 {
        margin-bottom: 1.5rem;
        font-size: 1.2rem;
      }

      .footer-section ul {
        list-style: none;
      }

      .footer-section ul li {
        margin-bottom: 0.75rem;
      }

      .footer-section a {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        transition: color 0.3s ease;
      }

      .footer-section a:hover {
        color: white;
      }

      .footer-bottom {
        max-width: 1400px;
        margin: 0 auto;
        padding-top: 2rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        text-align: center;
        color: rgba(255, 255, 255, 0.6);
      }

      /* Back to Top Button */
      .back-to-top {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px);
        transition: all 0.3s ease;
        z-index: 999;
      }

      .back-to-top.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .back-to-top:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
      }

      /* Notification Styles */
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .notification-content {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .notification-content button {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        padding: 0.25rem;
        border-radius: 4px;
        margin-left: auto;
      }

      .notification-content button:hover {
        background: rgba(255, 255, 255, 0.2);
      }

      /* Mobile Menu */
      .mobile-menu-btn {
        display: none;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: var(--primary);
        cursor: pointer;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        .hero-container {
          grid-template-columns: 1fr;
          text-align: center;
        }

        .hero-content h1 {
          font-size: 2.5rem;
        }

        .care-grid {
          grid-template-columns: 1fr;
        }

        .nav-links {
          display: none;
        }

        .mobile-menu-btn {
          display: block;
        }

        .hero-buttons {
          justify-content: center;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <div class="nav-wrapper">
      <nav>
        <a href="/" class="logo">
          <div class="logo-icon">
            <i class="fas fa-heart"></i>
          </div>
          <span>MaternalCare</span>
        </a>
        <div class="nav-links">
          <a href="#home" class="nav-link">Home</a>
          <a href="#care" class="nav-link">Services</a>
          <a href="#features" class="nav-link">Features</a>
          <a href="#testimonials" class="nav-link">Stories</a>
        </div>
        <div class="nav-actions">
          <!-- Guest Navigation -->
          <div id="guest-nav" class="guest-nav">
            <a href="/auth/login" class="btn-outline">
              <i class="fas fa-sign-in-alt"></i> Login
            </a>
            <a href="/auth/register" class="btn-primary">
              <i class="fas fa-user-plus"></i> Sign Up
            </a>
          </div>

          <!-- User Navigation -->
          <div id="user-nav" class="user-nav" style="display: none">
            <!-- <div class="user-info">
              <span class="user-welcome"
                >Welcome, <span id="user-name">User</span></span
              >
              <span class="user-role" id="user-role">user</span>
            </div> -->
            <button id="logout-btn" class="btn-logout">
              <i class="fas fa-sign-out-alt"></i> Logout
            </button>
          </div>
        </div>
        <button class="mobile-menu-btn">
          <i class="fas fa-bars"></i>
        </button>
      </nav>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="hero-container">
        <div class="hero-content">
          <h1>Your Journey to Motherhood, Beautifully Guided</h1>
          <div class="hero-subtitle">
            Complete Maternal & Child Health Platform
          </div>
          <p>
            Experience comprehensive maternal care and child health monitoring
            with expert guidance, personalized tracking, and 24/7 supportâ€”all
            designed to make your parenting journey confident and joyful.
          </p>
          <div class="hero-buttons">
            <a
              href="/pregnancy"
              onclick="navigateToSection(event, '/pregnancy')"
              class="btn-hero btn-pregnancy"
            >
              <i class="fas fa-heart"></i> Maternal Care
            </a>
            <a
              href="/babycare"
              onclick="navigateToSection(event, '/babycare')"
              class="btn-hero btn-baby"
            >
              <i class="fas fa-baby"></i> Child Health Care
            </a>
          </div>
        </div>
        <div class="hero-image">
          <img src="{{ url_for('static', filename='images/pregnancy-hero.png') }}" alt="Maternal and Child Health Care" />
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features-section" id="features">
      <div class="section-header">
        <h2>Everything You Need in One Place</h2>
        <p>
          Powerful tools and expert resources to support your parenting journey
        </p>
      </div>
      <div class="features-grid">
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-user-md"></i>
          </div>
          <h3>Expert Consultations</h3>
          <p>
            Connect with certified doctors and specialists anytime via video or
            chat
          </p>
        </div>
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-book-medical"></i>
          </div>
          <h3>Health Records</h3>
          <p>Securely store and access all medical records in one place</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-users"></i>
          </div>
          <h3>Community Support</h3>
          <p>Join a supportive community of parents sharing experiences</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-brain"></i>
          </div>
          <h3>AI Insights</h3>
          <p>Get personalized recommendations based on your health data</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-bell"></i>
          </div>
          <h3>Smart Reminders</h3>
          <p>Never miss appointments, medications, or milestones</p>
        </div>
        <div class="feature-box">
          <div class="feature-icon-box">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3>Privacy First</h3>
          <p>Your data is encrypted and completely secure</p>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials" id="testimonials">
      <div class="section-header">
        <h2>Stories from Our Community</h2>
        <p>
          Real experiences from parents who trust us with their family's health
        </p>
      </div>
      <div class="testimonials-grid">
        <div class="testimonial-card">
          <p class="testimonial-text">
            "This platform transformed my maternal care experience. The weekly
            updates and nutrition plans kept me informed and healthy throughout
            my journey. Highly recommended!"
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">SJ</div>
            <div class="author-info">
              <h4>Sarah Johnson</h4>
              <p>First-time mother</p>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">
            "Being able to consult with pediatricians at any hour gave us peace
            of mind. The vaccination reminders and growth tracking features are
            invaluable for busy parents."
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">MR</div>
            <div class="author-info">
              <h4>Michael Rodriguez</h4>
              <p>Father of twins</p>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <p class="testimonial-text">
            "The community support feature connected me with other expecting
            mothers. It felt like having a virtual family supporting me through
            every milestone and challenge."
          </p>
          <div class="testimonial-author">
            <div class="author-avatar">PC</div>
            <div class="author-info">
              <h4>Priya Chandrasekhar</h4>
              <p>Expecting mother</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
      <div class="footer-content">
        <div class="footer-brand">
          <h3><i class="fas fa-heart"></i> MaternalCare</h3>
          <p>
            Your trusted companion for maternal and child health care, providing expert
            guidance every step of the way.
          </p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="/pregnancy">Maternal Care</a></li>
            <li><a href="/babycare">Child Health Care</a></li>
            <li><a href="#features">Features</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Services</h4>
          <ul>
            <li><a href="#">Maternal Tracking</a></li>
            <li><a href="#">Baby Development</a></li>
            <li><a href="#">Doctor Consultations</a></li>
            <li><a href="#">Nutrition Plans</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Contact</h4>
          <ul>
            <li>
              <a href="tel:+15551234567"
                ><i class="fas fa-phone"></i> +1 (555) 123-4567</a
              >
            </li>
            <li>
              <a href="mailto:support@maternalcare.com"
                ><i class="fas fa-envelope"></i> support@maternalcare.com</a
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>
          &copy; 2025 MaternalCare. All rights reserved. | Privacy Policy |
          Terms of Service
        </p>
      </div>
    </footer>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop">
      <i class="fas fa-arrow-up"></i>
    </div>

    <script>
      // Back to top button functionality
      const backToTopBtn = document.getElementById("backToTop");

      window.addEventListener("scroll", () => {
        const nav = document.querySelector(".nav-wrapper");

        if (window.pageYOffset > 50) {
          nav.classList.add("scrolled");
        } else {
          nav.classList.remove("scrolled");
        }

        if (window.pageYOffset > 300) {
          backToTopBtn.classList.add("visible");
        } else {
          backToTopBtn.classList.remove("visible");
        }
      });

      backToTopBtn.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          const href = this.getAttribute("href");
          if (href && href !== "#") {
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) {
              target.scrollIntoView({
                behavior: "smooth",
              });
            }
          }
        });
      });

      // Animation on scroll
      const observerOptions = {
        root: null,
        rootMargin: "0px",
        threshold: 0.1,
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animated");
          }
        });
      }, observerOptions);

      document
        .querySelectorAll(".feature-box, .testimonial-card")
        .forEach((card) => {
          observer.observe(card);
        });

      // Authentication Management
      async function checkAuthStatus() {
        const guestNav = document.getElementById("guest-nav");
        const userNav = document.getElementById("user-nav");
        const userName = document.getElementById("user-name");
        const userRole = document.getElementById("user-role");

        try {
          const response = await fetch("/auth/check-auth");
          const data = await response.json();

          if (data.authenticated && data.user) {
            updateUIForLoggedInUser(data.user);
          } else {
            guestNav.style.display = "flex";
            userNav.style.display = "none";
          }
        } catch (error) {
          console.error("Error checking auth status:", error);
          guestNav.style.display = "flex";
          userNav.style.display = "none";
        }
      }

      async function logout() {
        try {
          await fetch("/auth/logout", { method: "GET" });

          showNotification("Logged out successfully!", "success");

          await checkAuthStatus();

          setTimeout(() => {
            window.location.href = "/";
          }, 1500);
        } catch (error) {
          console.error("Logout error:", error);
          await checkAuthStatus();
        }
      }

      function updateUIForLoggedInUser(user) {
        const guestNav = document.getElementById("guest-nav");
        const userNav = document.getElementById("user-nav");
        const userName = document.getElementById("user-name");
        const userRole = document.getElementById("user-role");

        if (guestNav) guestNav.style.display = "none";
        if (userNav) userNav.style.display = "flex";

        if (userName && user.full_name) {
          userName.textContent = user.full_name;
        } else if (userName && user.email) {
          userName.textContent = user.email.split("@")[0];
        }

        if (userRole && user.role) {
          userRole.textContent = user.role;
        }

        const logoutBtn = document.getElementById("logout-btn");
        if (logoutBtn) {
          logoutBtn.onclick = logout;
        }

        console.log("User logged in:", user);
      }

      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${
                  type === "success"
                    ? "#48bb78"
                    : type === "error"
                    ? "#e53e3e"
                    : "#667eea"
                };
                color: white;
                padding: 15px 20px;
                border-radius: 12px;
                z-index: 10001;
                max-width: 300px;
                box-shadow: 0 4px 20px rgba(0,0,0,0.2);
                animation: slideInRight 0.3s ease;
            `;
        notification.innerHTML = `<i class="fas fa-${
          type === "success"
            ? "check-circle"
            : type === "error"
            ? "exclamation-circle"
            : "info-circle"
        }"></i> ${message}`;

        document.body.appendChild(notification);

        setTimeout(() => {
          if (notification.parentNode) {
            notification.parentNode.removeChild(notification);
          }
        }, 5000);
      }

      // Navigation functions
      async function navigateToSection(event, url) {
        if (event) {
          event.preventDefault();
        }

        try {
          const response = await fetch("/auth/check-auth");
          if (response.ok) {
            const data = await response.json();
            if (data.authenticated) {
              window.location.href = url;
            } else {
              showNotification("Please login to access this section", "info");
              window.location.href = "/auth/login";
            }
          } else {
            showNotification("Please login to access this section", "info");
            window.location.href = "/auth/login";
          }
        } catch (error) {
          console.error("Error checking authentication:", error);
          showNotification("Please login to access this section", "info");
          window.location.href = "/auth/login";
        }
      }

      // Initialize authentication on page load
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", () => {
          checkAuthStatus();
        });
      } else {
        checkAuthStatus();
      }

      // Mobile menu toggle
      const mobileMenuBtn = document.querySelector(".mobile-menu-btn");
      const navLinks = document.querySelector(".nav-links");

      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener("click", () => {
          navLinks.style.display =
            navLinks.style.display === "flex" ? "none" : "flex";
        });
      }
    </script>
  </body>
</html>
